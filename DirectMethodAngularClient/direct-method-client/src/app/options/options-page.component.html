<div class="flex flex-wrap">
    <fieldset
        class="block-container w-full p-3 m-3 border border-solid border-gray-400"
    >
        <legend>Common</legend>
        <div class="flex w-full md:w-1/2 mb-2">
            <label class="label-container w-1/3 mr-10"
                >Main buttons panel side</label
            >
            <div class="value-container w-2/3">
                <select class="w-full border border-black">
                    <option value="left">left</option>
                    <option value="right">right</option>
                </select>
            </div>
        </div>
    </fieldset>

    <div
        class="block-container p-3 m-3 border border-solid border-gray-400 w-full"
    >
        <div class="w-full md:w-1/2 p-3">
            <input
                type="checkbox"
                id="cb_show_teacher_text_id"
                [(ngModel)]="optionsService.options.teacherFont.visibility"
                (ngModelChange)="optionsService.serialize()"
            />
            <label for="cb_show_teacher_text_id" class="ml-2"
                >Show teacher's text</label
            >
        </div>
        <div class="w-full md:w-1/2 p-3">
            <font-group
                [fontOptions]="optionsService.options.teacherFont"
                (fontChanged)="optionsService.serialize()"
                groupName="Teacher's font"
            ></font-group>
        </div>
    </div>

    <div
        class="block-container p-3 m-3 border border-solid border-gray-400 w-full"
    >
        <div class="w-full md:w-1/2 p-3">
            <input
                type="checkbox"
                id="cb_show_teacher_translation_text_id"
                [(ngModel)]="
                    optionsService.options.teacherTranslatedFont.visibility
                "
                (ngModelChange)="optionsService.serialize()"
            />
            <label for="cb_show_teacher_translation_text_id" class="ml-2"
                >Show teacher's text</label
            >
        </div>
        <div class="w-full md:w-1/2 p-3">
            <font-group
                [fontOptions]="optionsService.options.teacherTranslatedFont"
                (fontChanged)="optionsService.serialize()"
                groupName="Teacher's translation font"
            ></font-group>
        </div>
    </div>

    <div
        class="block-container p-3 m-3 border border-solid border-gray-400 w-full"
    >
        <div class="w-full md:w-1/2 p-3">
            <input
                type="checkbox"
                id="cb_show_student_text_id"
                [(ngModel)]="optionsService.options.studentFont.visibility"
                (ngModelChange)="optionsService.serialize()"
            />
            <label for="cb_show_student_text_id" class="ml-2"
                >Show students's text</label
            >
        </div>
        <div class="w-full md:w-1/2 p-3">
            <font-group
                [fontOptions]="optionsService.options.studentFont"
                (fontChanged)="optionsService.serialize()"
                groupName="Students's font"
            ></font-group>
        </div>
    </div>

    <div
        class="block-container p-3 m-3 border border-solid border-gray-400 w-full"
    >
        <div class="w-full md:w-1/2 p-3">
            <input
                type="checkbox"
                id="cb_show_student_translation_text_id"
                [(ngModel)]="
                    optionsService.options.studentTranslatedFont.visibility
                "
                (ngModelChange)="optionsService.serialize()"
            />
            <label for="cb_show_student_translation_text_id" class="ml-2"
                >Show student's translation</label
            >
        </div>
        <div class="w-full md:w-1/2 p-3">
            <font-group
                [fontOptions]="optionsService.options.studentTranslatedFont"
                (fontChanged)="optionsService.serialize()"
                groupName="Students's translation font"
            ></font-group>
        </div>
    </div>

    <fieldset
        class="block-container w-full p-3 m-3 border border-solid border-gray-400"
    >
        <legend>Continuous lesson mode</legend>

        <div class="flex w-full md:w-1/2 mb-2">
            <label class="ml-2 flex-1">Active mode</label>
            <div class="value-container w-2/3">
                <select class="w-full border border-black">
                    <!-- <option *ngFor="let font of availableFonts" [value]="font">{{font}}</option> -->
                </select>
            </div>
        </div>

        <div class="flex w-full md:w-1/2 mb-2">
            <label class="ml-2 flex-1">Mode</label>
            <div class="value-container w-2/3">
                <input class="w-full border border-black" type="text" />
            </div>
        </div>

        <div class="flex w-full md:w-1/2 mb-2">
            <label class="ml-2 flex-1">Language</label>
            <div class="value-container w-2/3">
                <select
                    class="w-full border border-black"
                    [(ngModel)]="selectedLanguage"
                    (change)="onLanguageChange()"
                >
                    <option
                        *ngFor="let lang of availableLanguages"
                        [value]="lang"
                    >
                        {{ lang }}
                    </option>
                </select>
            </div>
        </div>

        <div class="flex w-full md:w-1/2 mb-2">
            <label class="ml-2 flex-1">TTS voice</label>
            <div class="value-container w-2/3">
                <select
                    class="w-full border border-black"
                    [(ngModel)]="selectedVoice"
                >
                    <ng-container *ngFor="let voice of availableVoices">
                        <option
                            *ngIf="voice.lang === selectedLanguage"
                            [value]="voice"
                        >
                            {{ voice.name }}
                        </option>
                    </ng-container>
                </select>
            </div>
        </div>

        <div class="flex w-full md:w-1/2 mb-2">
            <label class="ml-2 flex-1">Test phrase</label>
            <div class="value-container w-2/3 flex">
                <input
                    class="w-full border border-black"
                    [(ngModel)]="userInput"
                    type="text"
                />
                <button
                    class="border border-black ml-2 px-4"
                    (click)="speakUserText()"
                >
                    Test
                </button>
            </div>
        </div>

        <div class="flex w-full md:w-1/2 mb-2">
            <label for="pause_before_phrase_id" class="ml-2 flex-1"
                >Pause before, s</label
            >
            <input
                type="number"
                id="pause_before_phrase_id"
                class="border border-solid border-black flex-1"
                [(ngModel)]="
                    optionsService.options.continuousLessonOptions
                        .pauseBeforePhrase
                "
                (ngModelChange)="optionsService.serialize()"
            />
        </div>

        <div class="flex w-full md:w-auto items-center">
            <label for="pause_after_phrase_id" class="ml-2"
                >Pause after, s</label
            >
            <input
                type="number"
                id="pause_constant_time_id"
                class="border border-solid border-black w-32"
                [(ngModel)]="
                    optionsService.options.continuousLessonOptions
                        .pauseAfterPhrase.constantTime
                "
                (ngModelChange)="optionsService.serialize()"
            />
            <span class="mx-2">+</span>
            <input
                type="number"
                id="pause_multiple_previous_time_id"
                class="border border-solid border-black w-32"
                [(ngModel)]="
                    optionsService.options.continuousLessonOptions
                        .pauseAfterPhrase.multiplePreviousPhraseTime
                "
                (ngModelChange)="optionsService.serialize()"
            />
            <span class="mx-2">* Previous Time</span>
        </div>

        <div>
            <digital-students-group
                [digitalStudent]="
                    optionsService.options.continuousLessonOptions
                        .digitalStudent
                "
            ></digital-students-group>
        </div>

        <div>
            <on-real-student-answer-group
                [onRealStudentAnswer]="
                    optionsService.options.continuousLessonOptions
                        .onRealStudentAnswer
                "
                (realStudentChanged)="optionsService.serialize()"
                (ngModelChange)="optionsService.serialize()"
            ></on-real-student-answer-group>
        </div>
    </fieldset>
</div>
